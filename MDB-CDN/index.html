<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Balance</title>
    <!-- MDB Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container py-5">
        <!-- Tutorial Screen -->
        <div id="tutorial-screen" class="screen card shadow-lg border-0 rounded-lg overflow-hidden">
            <div class="tutorial-container p-0">
                <div class="tutorial-header bg-primary text-white p-4 d-flex justify-content-between align-items-center">
                    <h2 class="h3 mb-0">Welcome to Math Balance</h2>
                    <button id="skip-tutorial-btn" class="btn btn-outline-light btn-rounded">Skip Tutorial</button>
                </div>

                <div class="tutorial-content p-4">
                    <!-- Tutorial slides will be displayed here -->
                    <div class="tutorial-slide active" data-slide="1">
                        <div class="tutorial-image text-center mb-4">
                            <i class="fas fa-balance-scale fa-5x text-primary tutorial-icon"></i>
                        </div>
                        <h3 class="text-center mb-3">Balance in Mathematics</h3>
                        <div class="card-body bg-light rounded">
                            <p class="lead">Math Balance teaches you how math helps create balance in real-world situations.</p>
                            <p>Just like a scale needs equal weight on both sides, real problems need mathematical balance to be solved correctly.</p>
                        </div>
                    </div>

                    <div class="tutorial-slide" data-slide="2">
                        <div class="tutorial-image text-center mb-4">
                            <i class="fas fa-calculator fa-5x text-primary tutorial-icon"></i>
                        </div>
                        <h3 class="text-center mb-3">Real-World Applications</h3>
                        <div class="card-body bg-light rounded">
                            <p class="lead">Discover how math creates balance in everyday situations:</p>
                            <ul class="list-group tutorial-list">
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">üí∞</span> Balancing finances and transactions
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">üå±</span> Optimizing space for gardens and farming
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">üß™</span> Creating chemical balance in solutions
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">üèóÔ∏è</span> Engineering structures with balanced forces
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="tutorial-slide" data-slide="3">
                        <div class="tutorial-image text-center mb-4">
                            <i class="fas fa-gamepad fa-5x text-primary tutorial-icon"></i>
                        </div>
                        <h3 class="text-center mb-3">How to Play</h3>
                        <div class="card-body bg-light rounded">
                            <p class="lead">In each level, you'll face math problems that need balancing:</p>
                            <ul class="list-group tutorial-list">
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">‚è±Ô∏è</span> Solve problems before the timer runs out
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">üí°</span> Use hints if you need help (but you'll earn more points without them)
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">‚úÖ</span> Enter your answer and submit to check if you've achieved balance
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="tutorial-slide" data-slide="4">
                        <div class="tutorial-image text-center mb-4">
                            <i class="fas fa-trophy fa-5x text-primary tutorial-icon"></i>
                        </div>
                        <h3 class="text-center mb-3">Earn Badges & Improve</h3>
                        <div class="card-body bg-light rounded">
                            <p class="lead">By playing Math Balance, you'll:</p>
                            <div class="row badges-preview text-center">
                                <div class="col-6 col-md-3 mb-3">
                                    <div class="badge-preview p-3 bg-primary bg-opacity-25 rounded">
                                        <i class="fas fa-bolt fa-2x text-primary mb-2"></i>
                                        <p class="mb-0">Speedster</p>
                                    </div>
                                </div>
                                <div class="col-6 col-md-3 mb-3">
                                    <div class="badge-preview p-3 bg-success bg-opacity-25 rounded">
                                        <i class="fas fa-star fa-2x text-success mb-2"></i>
                                        <p class="mb-0">Perfect Score</p>
                                    </div>
                                </div>
                                <div class="col-6 col-md-3 mb-3">
                                    <div class="badge-preview p-3 bg-warning bg-opacity-25 rounded">
                                        <i class="fas fa-lightbulb fa-2x text-warning mb-2"></i>
                                        <p class="mb-0">Self-Reliant</p>
                                    </div>
                                </div>
                                <div class="col-6 col-md-3 mb-3">
                                    <div class="badge-preview p-3 bg-info bg-opacity-25 rounded">
                                        <i class="fas fa-brain fa-2x text-info mb-2"></i>
                                        <p class="mb-0">Math Whiz</p>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3">Sharpen your math skills while learning how balance applies to real life!</p>
                        </div>
                    </div>

                    <div class="tutorial-slide" data-slide="5">
                        <div class="tutorial-image text-center mb-4">
                            <i class="fas fa-graduation-cap fa-5x text-primary tutorial-icon"></i>
                        </div>
                        <h3 class="text-center mb-3">Why Balance Matters</h3>
                        <div class="card-body bg-light rounded">
                            <p class="lead">Imbalance causes problems in the real world:</p>
                            <ul class="list-group tutorial-list">
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">‚ùå</span> Too little or too much can lead to waste
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">‚ùå</span> Unbalanced forces can cause structural failure
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <span class="emoji me-3 fs-4">‚ùå</span> Imbalanced equations give incorrect results
                                </li>
                            </ul>
                            <p class="mt-3">Learning to find balance through math helps us make better decisions!</p>
                        </div>
                    </div>
                </div>

                <div class="tutorial-navigation p-4 bg-light d-flex justify-content-between align-items-center">
                    <button id="prev-slide-btn" class="btn btn-outline-primary btn-rounded disabled">
                        <i class="fas fa-arrow-left me-2"></i> Previous
                    </button>
                    <div class="slide-indicators">
                        <span class="slide-indicator active" data-slide="1"></span>
                        <span class="slide-indicator" data-slide="2"></span>
                        <span class="slide-indicator" data-slide="3"></span>
                        <span class="slide-indicator" data-slide="4"></span>
                        <span class="slide-indicator" data-slide="5"></span>
                    </div>
                    <button id="next-slide-btn" class="btn btn-primary btn-rounded">
                        Next <i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Home Screen -->
        <div id="home-screen" class="screen active">
            <div class="card shadow-lg border-0 rounded-lg text-center">
                <div class="card-header bg-primary text-white p-4">
                    <h1 class="display-4 fw-bold">Math Balance</h1>
                </div>
                <div class="card-body p-5">
                    <div class="mb-5">
                        <i class="fas fa-balance-scale fa-6x text-primary mb-4"></i>
                        <p class="lead fs-4">Learn to balance real-world math problems!</p>
                    </div>
                    <div class="button-container">
                        <button id="play-btn" class="btn btn-primary btn-lg btn-rounded shadow-2 mb-3 me-md-3">
                            <i class="fas fa-play me-2"></i> Play Game
                        </button>
                        <button id="scores-btn" class="btn btn-outline-primary btn-lg btn-rounded mb-3">
                            <i class="fas fa-trophy me-2"></i> View Scores
                        </button>
                    </div>
                </div>
                <div class="card-footer text-muted bg-light p-3">
                    <p class="small mb-0">Balance your way to mathematical mastery!</p>
                </div>
            </div>
        </div>

        <!-- Level Selection Screen -->
        <div id="level-screen" class="screen">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header bg-primary text-white p-4 text-center">
                    <h2 class="h3 mb-0">Select Difficulty</h2>
                </div>
                <div class="card-body p-4">
                    <div class="row levels-container g-4">
                        <div class="col-12 col-sm-6">
                            <div class="level-card card shadow-sm h-100 cursor-pointer" data-level="beginner">
                                <div class="card-body text-center p-4">
                                    <div class="mb-3">
                                        <i class="fas fa-baby fa-3x text-primary"></i>
                                    </div>
                                    <h3 class="h5 card-title">Beginner</h3>
                                    <p class="card-text">Simple math problems for newcomers</p>
                                </div>
                                <div class="card-footer bg-primary text-white p-2 text-center">
                                    <small>LEVEL 1</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="level-card card shadow-sm h-100 cursor-pointer" data-level="easy">
                                <div class="card-body text-center p-4">
                                    <div class="mb-3">
                                        <i class="fas fa-child fa-3x text-success"></i>
                                    </div>
                                    <h3 class="h5 card-title">Easy</h3>
                                    <p class="card-text">A bit more challenging problems</p>
                                </div>
                                <div class="card-footer bg-success text-white p-2 text-center">
                                    <small>LEVEL 2</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="level-card card shadow-sm h-100 cursor-pointer" data-level="medium">
                                <div class="card-body text-center p-4">
                                    <div class="mb-3">
                                        <i class="fas fa-user-graduate fa-3x text-warning"></i>
                                    </div>
                                    <h3 class="h5 card-title">Medium</h3>
                                    <p class="card-text">Complex problems for experienced players</p>
                                </div>
                                <div class="card-footer bg-warning text-dark p-2 text-center">
                                    <small>LEVEL 3</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="level-card card shadow-sm h-100 cursor-pointer" data-level="worldHero">
                                <div class="card-body text-center p-4">
                                    <div class="mb-3">
                                        <i class="fas fa-dragon fa-3x text-danger"></i>
                                    </div>
                                    <h3 class="h5 card-title">World Hero</h3>
                                    <p class="card-text">Expert-level challenges</p>
                                </div>
                                <div class="card-footer bg-danger text-white p-2 text-center">
                                    <small>LEVEL 4</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-center p-4">
                    <button id="back-from-level" class="btn btn-outline-primary btn-rounded">
                        <i class="fas fa-arrow-left me-2"></i> Back
                    </button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header bg-primary text-white p-3">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <div class="progress-container">
                                <span id="progress-text" class="mb-1 d-block">Problem 1/10</span>
                                <div class="progress rounded-pill" style="height: 10px;">
                                    <div id="progress-fill" class="progress-bar bg-success" style="width: 10%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4 text-end">
                            <div class="timer-container bg-white bg-opacity-25 rounded-pill px-3 py-1 d-inline-flex align-items-center">
                                <i class="fas fa-stopwatch me-2"></i>
                                <span id="timer" class="fw-bold">60</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body p-4">
                    <div class="problem-container text-center mb-4">
                        <div class="mb-3">
                            <span class="badge bg-info text-dark rounded-pill px-3 py-2 mb-2">Challenge</span>
                            <h3 id="problem-text" class="h4 mb-0">Loading problem...</h3>
                        </div>
                        <div class="problem-image-container mb-4">
                            <img id="problem-image" src="placeholder.jpg" alt="Problem visualization" class="img-fluid rounded shadow-sm">
                        </div>
                        <div class="hint-container">
                            <button id="hint-btn" class="btn btn-outline-warning btn-rounded">
                                <i class="far fa-lightbulb me-2"></i> Show Hint
                            </button>
                            <div id="hint-text" class="alert alert-warning mt-3 hidden">
                                <p class="mb-0"><strong>Hint:</strong> <span id="hint-content"></span></p>
                            </div>
                        </div>
                    </div>

                    <div class="answer-container">
                        <div class="input-group mb-3 shadow-sm">
                            <span class="input-group-text bg-primary text-white"><i class="fas fa-calculator"></i></span>
                            <input type="text" id="answer-input" class="form-control form-control-lg" placeholder="Your answer">
                            <span id="unit-display" class="input-group-text bg-light"></span>
                        </div>
                        <div class="d-grid gap-2">
                            <button id="submit-btn" class="btn btn-primary btn-lg btn-rounded">
                                <i class="fas fa-check me-2"></i> Submit Answer
                            </button>
                        </div>
                    </div>

                    <div id="feedback" class="alert mt-4 hidden"></div>
                </div>

                <div class="card-footer text-center p-3">
                    <button id="back-from-game" class="btn btn-outline-danger btn-rounded">
                        <i class="fas fa-door-open me-2"></i> Quit Game
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header bg-primary text-white p-4 text-center">
                    <h2 class="h3 mb-0">Game Results</h2>
                </div>
                <div class="card-body p-4">
                    <div class="results-container">
                        <div class="achievement text-center mb-4" id="level-achievement">
                            <div class="ribbon-container position-relative mb-3">
                                <i class="fas fa-trophy fa-5x text-warning"></i>
                            </div>
                            <h3 class="h5">Completed Level: <span id="completed-level" class="badge bg-primary">Beginner</span></h3>
                        </div>
                        
                        <div class="score-breakdown card bg-light border-0 mb-4">
                            <div class="card-body">
                                <h4 class="h5 mb-3">Score Summary</h4>
                                <div class="table-responsive">
                                    <table class="table table-borderless mb-0">
                                        <tbody>
                                            <tr>
                                                <td><i class="fas fa-check-circle text-success me-2"></i> Problems Solved:</td>
                                                <td class="text-end"><span id="problems-solved" class="badge bg-success">0/10</span></td>
                                            </tr>
                                            <tr>
                                                <td><i class="fas fa-calculator text-primary me-2"></i> Base Score:</td>
                                                <td class="text-end"><span id="base-score">0</span></td>
                                            </tr>
                                            <tr>
                                                <td><i class="fas fa-stopwatch text-info me-2"></i> Time Bonus:</td>
                                                <td class="text-end"><span id="time-bonus">0</span></td>
                                            </tr>
                                            <tr>
                                                <td><i class="fas fa-lightbulb text-warning me-2"></i> No-Hint Bonus:</td>
                                                <td class="text-end"><span id="hint-bonus">0</span></td>
                                            </tr>
                                            <tr class="fw-bold">
                                                <td><i class="fas fa-star text-danger me-2"></i> Total Score:</td>
                                                <td class="text-end"><span id="total-score" class="badge bg-danger fs-6">0</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <div id="badge-container" class="badge-container row text-center g-3">
                            <!-- Badges will be added here -->
                        </div>
                    </div>
                </div>
                <div class="card-footer text-center p-4">
                    <div class="button-container d-flex flex-column flex-md-row justify-content-center">
                        <button id="play-again-btn" class="btn btn-primary btn-lg btn-rounded mb-3 mb-md-0 me-md-3">
                            <i class="fas fa-redo me-2"></i> Play Again
                        </button>
                        <button id="home-btn" class="btn btn-outline-primary btn-lg btn-rounded">
                            <i class="fas fa-home me-2"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scores Screen -->
        <div id="scores-screen" class="screen">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header bg-primary text-white p-4 text-center">
                    <h2 class="h3 mb-0">Score History</h2>
                </div>
                <div class="card-body p-4">
                    <div class="scores-container table-responsive">
                        <table id="scores-table" class="table table-striped table-hover">
                            <thead class="table-light">
                                <tr>
                                    <th>Date</th>
                                    <th>Level</th>
                                    <th>Completed</th>
                                    <th>Score</th>
                                    <th>Badges</th>
                                </tr>
                            </thead>
                            <tbody id="scores-body">
                                <!-- Score rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-footer text-center p-4">
                    <div class="button-container d-flex flex-column flex-md-row justify-content-center">
                        <button id="clear-scores-btn" class="btn btn-danger btn-rounded mb-3 mb-md-0 me-md-3">
                            <i class="fas fa-trash-alt me-2"></i> Clear History
                        </button>
                        <button id="back-from-scores" class="btn btn-outline-primary btn-rounded">
                            <i class="fas fa-arrow-left me-2"></i> Back
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio elements -->
    <audio id="correct-sound" src="../sounds/correct.mp3"></audio>
    <audio id="wrong-sound" src="../sounds/wrong.wav"></audio>
    <audio id="level-complete-sound" src="../sounds/level-complete.mp3"></audio>
    <audio id="start-sound" src="../sounds/start.wav"></audio>

    <!-- Toast notifications -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="toast-success" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <i class="fas fa-check-circle me-2"></i>
                <strong class="me-auto">Success!</strong>
                <button type="button" class="btn-close btn-close-white" data-mdb-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Well done! Your answer is correct.
            </div>
        </div>
    </div>

    <!-- MDB Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"></script>
    <!-- Game data and scripts -->
    <script src="data.js"></script>
    <script src="game.js"></script>
</body>
</html>